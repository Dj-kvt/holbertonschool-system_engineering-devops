flowchart LR
  subgraph Internet
    User[User Browser\n(www.foobar.com)]
  end

  User -->|DNS -> LB_IP| DNS[DNS Resolver]
  DNS --> LB[HAProxy Load Balancer\nIP: LB_IP]

  LB --> HAproxy[HAProxy]
  subgraph Backends [Backend App Servers]
    direction LR
    App1[Server A\nNginx -> App -> MySQL Replica?]
    App2[Server B\nNginx -> App -> MySQL Replica?]
  end

  HAproxy -->|round-robin| App1
  HAproxy -->|round-robin| App2

  %% Example primary/replica DB (can be separate)
  App1 -->|reads/writes| DB1[(MySQL Primary)]
  App2 -->|reads| DB2[(MySQL Replica)]
  DB1 ---|replicates| DB2
